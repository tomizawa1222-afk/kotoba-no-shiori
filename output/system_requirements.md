# システム要件定義書

## システム概要
「Owaraseru」は、多機能化により複雑化した既存のタスク管理ツールのアンチテーゼとして開発される、**「タスクを終わらせること」に特化した究極にシンプルなタスク管理アプリケーション**です。
開発チームやプロジェクトチームをターゲットとし、不要な機能を削ぎ落とすことで「管理のための管理」を排除します。シンプルなカンバンボード、必要最小限の通知、集中モードを核とし、ユーザーが本質的な業務に集中できる環境を提供することで、チームの生産性向上と健全なワークライフバランス（定時退社）の実現を目指します。

1. システムの目的
   - **解決する具体的な課題**: 多機能すぎるツールによる「管理コストの増大」、「通知過多による集中力の低下」、「設定の複雑さによる形骸化」。
   - **目標とする成果**: タスク管理にかかる時間の最小化、「進捗確認」コミュニケーションの削減、個人の作業集中時間の確保。
   - **期待されるビジネスインパクト**: チーム全体の残業時間の削減、期限遵守率の向上。

2. 主な機能
   - **コア機能**:
     - 究極のタスク登録（タスク名、担当者、期限のみ）
     - シンプルなカンバンボード（未着手、作業中、完了の3ステータス固定）
     - 控えめなリマインダー（期限日朝の1回のみ通知）
   - **差別化機能**:
     - 「集中モード」（一定時間通知を全停止し、自分のタスクのみを表示）
   - **付加価値機能**:
     - 遅延タスクのハイライト表示（上司向け「ヤバい」状況の可視化）

3. 提供する価値
   - **ユーザー（PM）**: 進捗確認の手間削減、プロジェクト状況の即座な把握。
   - **ユーザー（作業者）**: 割り込みのない集中時間の確保、ツール操作ストレスからの解放。
   - **ビジネス**: 業務効率化によるコスト削減、従業員満足度の向上。

4. 実現方法の概要
   - **主要なテクノロジー要素**: Next.jsによる高速なSPA、Supabaseによるリアルタイム更新、Clerkによるセキュアな認証。
   - **重要なインテグレーションポイント**: なし（チャット機能や複雑な連携はスコープ外）。
   - **スケーラビリティへの考慮**: 当面はチーム単位での利用を想定し、Supabaseのフルマネージドサービスにより初期のスケーリング負荷を回避。

## 情報の前提と仮定
- **情報源**: `input/sample.md` (タスク管理アプリ「Owaraseru」 ビジネス要件定義書 Ver. 0.1)
- **仮定**:
  - ターゲット規模は初期段階では1チーム〜数チーム（数十人〜百人規模）の利用を想定。
  - ユーザーはITリテラシーが一定程度ある層（開発チームなど）を主要ターゲットとするが、UIは誰でも使えるシンプルさを優先する。
  - 「上司」ペルソナ向けの「ヤバいプロジェクトだけ赤字で」という要求は、タスク一覧またはボード上での視覚的な強調表示で実現すると仮定。

## 機能要件

### 1. タスク管理機能
- **タスク作成**:
  - 必須項目: タスク名、担当者、期限。
  - 任意項目: 備考（詳細記述）。
  - 制約: これ以外の項目（優先度、タグ、見積工数など）は入力させない。
- **カンバンボード**:
  - ステータス: 「未着手」「作業中」「完了」の3つのみ。変更不可。
  - 操作: ドラッグ＆ドロップによるステータス移動。
- **タスク一覧/表示**:
  - 期限切れタスクの強調表示（赤字など）。

### 2. 通知・リマインダー機能
- **期限通知**:
  - タイミング: 期限当日の朝（例: 09:00）に1回のみ。
  - 対象: タスクの担当者。
  - 方法: アプリプッシュ通知（ブラウザプッシュ通知）のみ。メール通知は行わない。

### 4. ユーザー・チーム管理機能
- **招待機能**:
  - 管理者がメンバーのメールアドレスを入力して招待メールを送信。
  - 招待されたユーザーが承諾することでチームに参加。
- **マルチチーム対応**:
  - 1人のユーザーは複数のチーム（プロジェクト）に所属可能。
  - ログイン後に操作するチームを切り替え可能とする。

## 非機能要件
- **パフォーマンス**:
  - カンバンボードの初期表示: 1秒以内。
  - タスク移動の反映: リアルタイム（遅延を感じさせないレベル）。
- **ユーザビリティ**:
  - マニュアル不要で直感的に使えるUI。
  - タスク登録完了までのクリック数/入力を最小限に抑える（例: 3ステップ以内）。
- **セキュリティ**:
  - Clerkを用いた堅牢な認証・認可。
  - データはHTTPSで暗号化して通信。
- **スケーラビリティ**:
  - 初期ユーザー数: 1,000人未満を想定。
  - 同時接続数: 100程度を想定。
  - 将来的なユーザー増に対しては、Supabaseのプランアップグレード等で対応可能な設計とする。

## 技術スタック
指定がないため、推奨されるモダンスタックを採用します。本プロジェクトの「シンプルさ」「開発速度」「リアルタイム性」の要件に合致します。

- **フロントエンド: Next.js (React)**
  - **理由**: 高速なページ遷移、豊富なコンポーネントエコシステム、Vercelとの親和性。App Routerにより最新のReact機能（Server Componentsなど）を活用し、パフォーマンスを最適化。
- **言語: TypeScript**
  - **理由**: 型安全性によるバグ削減、開発効率の向上、保守性の確保。
- **バックエンド: Next.js App Router (Server Actions)**
  - **理由**: フロントエンドとバックエンドを統合的に開発でき、シンプルなCRUDアプリにおいてAPI構築のオーバーヘッドを削減できるため。
- **データベース: Supabase (PostgreSQL)**
  - **理由**: フルマネージドで構築・運用コストが低い。Realtime機能により、カンバンボードの他ユーザーの操作（タスク移動など）を即座に同期できる点が本アプリに最適。
- **認証: Clerk**
  - **理由**: 認証機能の実装工数を極小化でき、セキュリティも担保されるため。Next.jsとの連携も容易。
- **ホスティング: Vercel**
  - **理由**: Next.jsの機能を最大限に活かせるデプロイ環境であり、設定不要で高パフォーマンスな配信が可能。

## 開発ロードマップ
MVP（Minimum Viable Product）を最速でリリースし、コア価値を検証する方針とします。

- **Phase 1: MVP開発（期間目安: 2-3週間）**
  - 基本的なタスクCRUD（作成、読取、更新、削除）。
  - 3カラム固定のカンバンボード。
  - 認証機能（Clerk）。
  - **目的**: チーム内でドッグフーディングを行い、「本当にこれでタスクが回るか」を検証。
- **Phase 2: 品質向上と通知（期間目安: 2週間）**
  - 期限リマインダー機能の実装。
  - 「集中モード」の実装。
  - UI/UXのブラッシュアップ。
  - **目的**: 差別化機能の実装により、ターゲットユーザーへの価値提供を完成させる。
- **Phase 3: 公開・運用（継続）**
  - ユーザーからのフィードバックに基づく微調整。
  - **目的**: 安定稼働とバグ修正。

## リスク分析
- **ビジネスリスク**:
  - **競合との差別化**: シンプルすぎて「Trelloで良いのでは？」となる可能性。
  - **対策**: 「集中モード」や「通知の少なさ」という体験（UX）での差別化を徹底する。UIの「気持ちよさ」にこだわる。
- **技術的リスク**:
  - **SupabaseのRealtime接続数制限**: 無料枠での同時接続数制限に達する可能性。
  - **対策**: 早期に有料プランへの移行基準を設ける。
- **使用上のリスク**:
  - **機能不足への不満**: 「やっぱりタグが欲しい」「検索したい」という要望が出る。
  - **対策**: コンセプト（Won't Do）を明確に伝え、安易に機能追加しない姿勢を貫く。本当に必要な機能のみを慎重に選定する。

## UI/UXの方向性
- **デザインコンセプト**: **"Zen & Focus" (禅と集中)**
  - 余白を活かした、ノイズの少ないミニマルなデザイン。
  - 色使いは目に優しい落ち着いたトーン（ダークモード対応推奨）。重要なアラート（期限切れ）のみアクセントカラーを使用。
- **トーン＆マナー**: 静寂、誠実、軽快。
- **ターゲットデバイス**: PCメイン（業務利用想定）、モバイルは確認用サブ。
- **参考イメージ**:
  - Notion（のシンプルさ）
  - Linear（の操作感・軽快さ）

## 追加情報リクエスト
回答を受領したため、削除しました。

## 決定済み事項（追加情報リクエストへの回答）
1. **通知手段**: アプリプッシュ通知（ブラウザプッシュ等）のみとする。メール通知は実装しない。
2. **ユーザー管理**: 
   - 管理者がメールアドレスで招待する形式。
   - 1人のユーザーが複数のチーム（プロジェクト）に所属可能とする（マルチテナント的な構造）。
3. **デザイン**: ブランドカラーやロゴの指定なし。提案された"Zen & Focus"コンセプトに基づき、開発側で決定する。

